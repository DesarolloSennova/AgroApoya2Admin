<form class="Fondo">
    <br><br>
    <div class="container bg-white">
        <br>
        <h1>Combotizar oferta</h1>


        <div class="row">
            <div class="col-sm-4 col-12">
                <label class="col-sm-12 Llave">Nombre Combo</label>
                <input type="text" class="form-control form-control-sm textBox" placeholder="Nombre combo"
                    required="required" [(ngModel)]="NombreCombo">
            </div>


            <div class="col-sm-4 col-12">
                <label class="col-sm-12 Llave">Estado</label>
                <ng-autocomplete [data]="ArrEstados" [searchKeyword]="KeywordEstado" (selected)='SelectEstado($event)'
                    placeholder="Estados" (inputCleared)="LimpiarEstado()" [itemTemplate]="templateResEstados"
                    [notFoundTemplate]="templateVacioPr" aria-required="true">
                </ng-autocomplete>

                <ng-template #templateResEstados let-item id="templateResEstados">
                    <a [innerHTML]="item.Estado"></a>
                </ng-template>

                <ng-template #templateVacioPr let-SinRegistro>
                    <label for="">Sin registros</label>
                </ng-template>
            </div>

            <div class="col-sm-4 col-12">
                <label class="col-sm-12 Llave">Fecha</label>
                <input type="date" class="form-control form-control-sm textBox" name="FechaOfertas"
                    [(ngModel)]="FechaOfertas">
            </div>
        </div>

        <div class="row br justify-content-center textCenter">
            <div class="col-sm-3 col-12 br">
                <button class="col-sm-12 col-12 btn btn-agro-prin" title="Buscar plantilla" (click)="Accion('1')">Buscar</button>
            </div>
            <div class="col-sm-3 col-12 br">
                <button class="col-sm-12 col-12 btn btn-agro-prin" title="Agregar plantilla" (click)="Accion('2')">Crear</button>
            </div>
        </div>


        <div class="row mt-3" *ngIf="VerBuscarCombo == true">
            <table class="col-sm-12 TableAgro">
                <tr>
                    <th>Imagen</th>
                    <th>Nombre</th>
                    <th>Fecha</th>
                    <th>Estado</th>
                    <th>Acciones</th>
                </tr>
                <tr *ngFor="let oferta of ArrGrilla">
                    <td class="justify-content-center">
                        <img src="{{oferta.Image}}" class="ImgOfertaBusca">
                    </td>
                    <td>{{oferta.Nombre}}</td>
                    <td>{{oferta.Fecha}}</td>
                    <td>{{oferta.Estado}}</td>
                    <td>
                        <button class="SinEstilo m-1">
                            <img src=".../../../../../../../assets/ImagenesAgroApoya2Adm/Editar.png" title="Editar"
                                width="30" height="30">
                        </button>

                        <button class="SinEstilo m-1" (click)="AbreModalConfirmacion(ModalConfirmacion)">
                            <img src=".../../../../../../../assets/ImagenesAgroApoya2Adm/Cerrar.png" title="Cerrar"
                                width="30" height="30">
                        </button>

                        <button class="SinEstilo m-1" (click)="AbreModalConfirmacion(ModalConfirmacion)">
                            <img src=".../../../../../../../assets/ImagenesAgroApoya2Adm/cancel.png" title="Eliminar"
                                width="30" height="30">
                        </button>
                    </td>
                </tr>
            </table>
        </div>
    </div>

    <div class="container bg-white" *ngIf="VerCrearCombo == true">
        <!--Targueta-->
        <div class="row">
            <div class="col-sm-7 col-12 mt-2">
                <div class="row mt-3 tarjetas" *ngFor="let respu of ArrayTagetas; let i = index">
                    <div class="col-sm-1 col-12 textCenter">
                        <input class="form-check-input mt-2" type="checkbox" id="check{{i}}"
                            (change)="SelectOfertaCheck()">
                    </div>
                    <div class="col-sm-2 col-12">
                        <img src="{{respu.Image}}" class="ImgOferta">
                    </div>
                    <div class="col-sm-5 col-12">
                        <div class="col-12">
                            <label class="Llave">Nombre:&nbsp;</label><label class="Valor">{{respu.NombreProd}}</label>
                        </div>
                        <div class="col-12">
                            <label class="Llave">Descripción:&nbsp;</label><label
                                class="Valor">{{respu.DescripcionProd}}</label>
                        </div>
                        <div class="col-12">
                            <label class="Llave">Estado:&nbsp;</label><label class="Valor">{{respu.Estado}}</label>
                        </div>
                        <div class="col-12">
                            <label class="Llave">Fecha entrega:&nbsp;</label><label
                                class="Valor">{{respu.Fecha}}</label>
                        </div>
                    </div>

                    <div class="col-sm-4 col-12">
                        <div class="col-12">
                            <label class="Llave">Unidades:&nbsp;</label><label class="Valor">{{respu.Unidades}}
                                Unidades</label>
                        </div>
                        <div class="col-12">
                            <label class="Llave">Valor:&nbsp;</label><label
                                class="Valor">{{respu.Valor|currency}}</label>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-sm-5 col-12 mt-3 justify-content-center">
                <div class="row justify-content-center">
                    <div class="col-sm-10 col-10 imgCombo justify-content-center sinmp mt-2">
                        <img src=".../../../../../../../assets/ImagenesAgroApoya2Adm/ic_Agro.png" width="100%" height="100%">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-sm-6 col-12">
                        <label class="Llave">Nombre</label>
                    </div>
                    <div class="col-sm-6 col-12">
                        <input type="text" class="col-sm-4 col-12 form-control form-control-sm textBox" placeholder="Nombre combo">
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col-sm-6 col-12">
                        <label class="Llave">Descripción</label>
                    </div>
                    <div class="col-sm-6 col-12">
                        
                        <textarea class="form-control rounded-0 resize" rows="2" spellcheck="false"
                                    data-gramm="false"></textarea>
                    </div>
                </div>

                <div class="row mt-2">
                    <div class="col-sm-6 col-12">
                        <label class="Llave">Fecha entrega: </label>
                    </div>
                    <div class="col-sm-6 col-12">
                        <label class="Valor">10/05/2023</label>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-sm-6 col-12">
                        <label class="Llave">Estado: </label>
                    </div>
                    <div class="col-sm-6 col-12">
                        <label class="Valor">Publicada</label>
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-sm-6 col-12">
                        <label class="Llave">Valor comobo: </label>
                    </div>
                    <div class="col-sm-6 col-12">
                        <input type="text" value="{{10000000|currency}}" class="col-sm-4 col-12 form-control form-control-sm textBox" placeholder="Nombre combo">
                    </div>
                </div>
                <div class="row mt-2">
                    <div class="col-sm-6 col-12">
                        <label class="Llave">Valor compra: </label>
                    </div>
                    <div class="col-sm-6 col-12">
                        <label class="Valor">{{200000|currency}}</label>
                    </div>
                </div>

                <div class="row mt-2 justify-content-center">
                    <div class="col-sm-3 col-12 br">
                        <button class="col-sm-12 col-12 btn btn-agro-prin" title="Buscar plantilla">Guardar</button>
                    </div>
                    <div class="col-sm-3 col-12 br">
                        <button class="col-sm-12 col-12 btn btn-agro-prin" title="Agregar plantilla">Publicar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <ng-template #ModalConfirmacion let-modal>
        <div class="modal-header">
            <img style="width: 40px; margin-right: 10px;"
                src=".../../../../../../../assets/ImagenesAgroApoya2Adm/ic_Agro.png">
            <h1>AgroApoya2</h1>
            <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss('Cross click')"></button>
        </div>


        <div class="modal-body">
            <div class="col-12 mb-3">
                <h2 class="TituloDetalle">¿Estás seguro de realizar esta acción?</h2>
            </div>
            <div class="row textCenter justify-content-center">
                <div class="col-sm-4 mt-1">
                    <button type="button" id="btnGuardarDirecccion" class="btn btn-agro-prin w-100">
                        Aceptar
                    </button>
                </div>
                <div class="col-sm-4 mt-1">
                    <button type="button" id="btnGuardarDirecccion" class="btn btn-agro-prin w-100"
                        (click)="modal.dismiss('Cross click')">
                        Cancelar
                    </button>
                </div>
            </div>
        </div>
        <br>
    </ng-template>
</form>