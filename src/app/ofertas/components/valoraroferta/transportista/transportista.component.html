<br>
<div class="container bg-white">
    <br>
    <h1>Asignaci√≥n transportista</h1>
    <div class="br row justify-content-center">
        <img src="./../../../../../assets/ImagenesAgroApoya2Admin/barra4.png" style="width: 65%;">
    </div>
    <div class="br row">
        <div class="col-sm-4">
            <ng-autocomplete [data]="DataSectores" [searchKeyword]="keyword" placeholder="Sector" (selected)='selectSector($event)' [itemTemplate]="templateSec" [notFoundTemplate]="templateVacio">
            </ng-autocomplete>
            <ng-template #templateSec let-item>
                <a [innerHTML]="item.DSCRPCION_SCTOR"></a>
            </ng-template>
            <ng-template #templateVacio let-SinRegistro>
                <label for="">Sin registros</label>
            </ng-template>
        </div>
        <div class="col-sm-4">
            <ng-autocomplete [data]="DataTransportista" [searchKeyword]="keywordT" placeholder="Transportista" (selected)='selectTrans($event)' [itemTemplate]="templateTran" [notFoundTemplate]="templateVacio">
            </ng-autocomplete>
            <ng-template #templateTran let-item>
                <a [innerHTML]="item.nombre_conductor"></a>
            </ng-template>
            <ng-template #templateVacio let-SinRegistro>
                <label for="">Sin registros</label>
            </ng-template>
        </div>
        <div class="col-sm-4">
            <input class="col-sm-12 form-control form-control-sm textBox" type="text" placeholder="Valor flete" [(ngModel)]="VlrFlete">
        </div>
    </div>
    <div class="row br justify-content-center">
        <div class="col-sm-2 col-2">
            <button class="btn btn-agro-prin col-sm-12" (click)="AsociaTransportista(ModalRespuesta)">
                Asociar Transportista
            </button>
        </div>
        <div class="col-sm-2 col-2">
            <button class="btn btn-agro-sec col-sm-12" (click)="LimpiaForm()">
                Limpiar
            </button>
        </div>
    </div>
    <hr>
    <div class="br row justify-content-center">
        <h2 class="TituloDetalle">Transportistas Asociados</h2>
    </div>
    <div class="br row justify-content-center">
        <table class="col-sm-10 TableAgro">
            <tr>
                <th>Sector</th>
                <th>Transportista</th>
                <th>Valor flete</th>
                <th>Eliminar</th>
            </tr>
            <tr *ngFor="let transportista of DataTransOferta">
                <td>{{transportista.DSCRPCION_SCTOR}}</td>
                <td>{{transportista.CNTDAD}}</td>
                <td>${{transportista.VLOR_FLTE_SGRDO}}</td>
                <td>
                    <button class="SinEstilo" (click)="EliminaTransportista(transportista, ModalRespuesta)">
                        <img src="./../../../../../assets/ImagenesAgroApoya2Admin/Cerrar.png">
                    </button>
                </td>
            </tr>
            <tr *ngIf="ValidaConsulta=='1'">
                <td colspan="4">{{txtValidaCons}}</td>
            </tr>
        </table>
    </div>
    <ng-template #ModalRespuesta let-modal>
        <div class="modal-header">
            <h1>Respuesta</h1>
            <button type="button" class="btn-close" aria-label="Close" (click)="modal.dismiss()"></button>
        </div>
        <div class="modal-body">
            <div class="row br">
                <div class="col-sm-12">
                    <h2 class="TituloDetalle">{{Respuesta}}</h2>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <button type="button" class="btn btn-agro-prin col-sm-2" (click)="modal.close()">Aceptar</button>
        </div>
        <br>
    </ng-template>
</div>